x-swagger-router-controller: mock
get:
  description: |
    Request Registered User profile by its UUID
  parameters:
    - $ref: '../parameters/Schema.yaml'
    - name: uuid
      in: path
      description: Id of the user
      required: true
      schema:
        type: string
        format: uuid
  tags:
    - User
  responses:
    '200':
      description: Successful response
      content:
        application/json:
          schema:
            $ref: '../schemas/User.yaml'
patch:
  description: |
    Update Registered User profile by its UUID.
    Will reject the request if the word 'password' is present in request params.
  produces:
    - application/json
  parameters:
    - name: uuid
      in: path
      description: Id of the user
      required: true
      type: string
      format: uuid
    - name: old_password
      in: query
      description: Current password. This parameter required for non-admins when change. Admins can update just with `password` & `password_confirmation`
      required: false
      type: string
  requestBody:
    required: true
    content:
      application/json:
        schema:
          allOf:
            - $ref: '../schemas/UserRequestBody.yaml'
            - type: object
              required:
                - old_password
              properties:
                old_password:
                  description: Current password. This parameter required for non-admins when change. Admins can update just with `password` & `password_confirmation`
                  type: string
                  minLength: 8
                  maxLength: 128
  tags:
    - User
  responses:
    '200':
      description: Successful response
      content:
        application/json:
          schema:
            $ref: '../schemas/User.yaml'
    '403':
      description: Not Authorized
    '422':
      description: Error while saving
    '406':
      description: Not Acceptable
delete:
  description: This endpoint deletes current's user profile
  parameters:
    - $ref: '../parameters/X-User-Token.yaml'
    - name: uuid
      in: path
      description: user's uuid
      required: true
      type: string
  responses:
    '200':
      description: Successful response
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                default: true
    '401':
      description: Unauthorized
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                default: false
  tags:
    - User
